<!DOCTYPE html>
<html>
<head>
    <meta name='description' content='custom HiPS of tng-test'>
    <meta charset='utf-8'>'
    <meta name='viewport' content='width=device-width, height=device-height, initial-scale=1.0, user-scalable=no'>
    <title>TNG Point Cloud Exploration</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'hips/style.css' %}">
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@v0.162.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@v0.162.0/examples/jsm/"
        }
      }
    </script>
</head>
<body>
    {% load static %}
    <script type="module" src="{% static 'hips/point_cloud.js' %}"></script>
    <script type='text/javascript' src="{% static 'hips/aladin-lite/dist/aladin.umd.cjs' %}" charset='utf-8'></script>

    <div id='aladin-lite-div'></div>
    <div id='point-cloud-view'></div>

    <script type='text/javascript'>
        var aladin;
        A.init.then(() => {
            aladin = A.aladin('#aladin-lite-div');
            aladin.setImageSurvey(aladin.createImageSurvey('tng-test',
                'sphere projection of data from tng-test', '../../static/hips/survey/tng-test/projection',
                'equatorial', 3, {imgFormat: 'jpg'}));
            aladin.setFoV(180.0);
            aladin.on('mouseMove', function (e) {
                //console.log(aladin.view.location.$div[0].innerText)
            })
            aladin.on('zoomChanged', function(e) {
                console.log(aladin.view.wasm.getNOrder())
            })
        });

    </script>
</body>
</html>